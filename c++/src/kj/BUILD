cc_library(
    name = "kj",
    srcs = [
        "parse/char.c++",
        "arena.c++",
        "array.c++",
        "async-io.c++",
        "async-unix.c++",
        "async.c++",
        "common.c++",
        "debug.c++",
        "exception.c++",
        "io.c++",
        "main.c++",
        "memory.c++",
        "mutex.c++",
        "refcount.c++",
        "string-tree.c++",
        "string.c++",
        "test.c++",
        "thread.c++",
        "time.c++",
    ],
    hdrs = [
        "parse/char.h",
        "parse/common.h",
        "std/iostream.h",
        "arena.h",
        "array.h",
        "async-inl.h",
        "async-io.h",
        "async-prelude.h",
        "async-unix.h",
        "async.h",
        "common.h",
        "debug.h",
        "exception.h",
        "function.h",
        "io.h",
        "main.h",
        "memory.h",
        "miniposix.h",
        "mutex.h",
        "one-of.h",
        "refcount.h",
        "string-tree.h",
        "string.h",
        "test.h",
        "thread.h",
        "threadlocal.h",
        "time.h",
        "tuple.h",
        "units.h",
        "vector.h",
        "windows-sanity.h",
    ],
    copts = [
        "-stdlib=libc++",
        "-std=c++14",
        "-Wall",
        "-Wextra",
        "-Wglobal-constructors",
        "-Wno-sign-compare",
        "-Wno-unused-parameter",
        "-Werror",
    ],
    # visibility = ["//capnproto/capnproto"],
)
